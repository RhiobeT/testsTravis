<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.2">
<meta name="author" content="L'équipe responsable du projet &lt;pierre.jeanjean@etu.univ-tlse2.fr&gt;">
<title>E-ICGD : Environnement d&#8217;Intégration Continue de Génération de la Documentation</title>
<link rel="stylesheet" href="/home/travis/build/RhiobeT/testsTravis/srcdoc/stylesheet/asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>E-ICGD : Environnement d&#8217;Intégration Continue de Génération de la Documentation</h1>
<div class="details">
<span id="author" class="author">L'équipe responsable du projet &lt;pierre.jeanjean@etu.univ-tlse2.fr&gt;</span><br>
<span id="revnumber">version 1.3.1,</span>
<span id="revdate">2015-03-10</span>
</div>
</div>
<div id="content">
<h1 id="_documentation_utilisateur" class="sect0">Documentation utilisateur</h1>
<div class="imageblock">
<div class="content">
<img src="images/logo-DPT-Info.png" alt="logo DPT Info">
</div>
</div>
<!-- toc disabled -->
<div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="http://www.eclipse.org/papyrus/">Papyrus</a> est un plugin <a href="http://www.eclipse.org">eclipse</a> permettant la génération et l&#8217;édition de tous types de modèles EMF, et supportant en particulier le langage de modélisation UML et ses dérivés, tels que SysML et MARTE.
Actuellement l&#8217;équipe chargée de la réalisation de la documentation du plugin la rédige suivant le modèle utilisé par <a href="https://www.mediawiki.org">MediaWiki</a>, et la teste manuellement.
Or cette syntaxe n&#8217;est pas une des plus pratiques à utiliser : par exemple, elle n&#8217;offre pas la possibilité d&#8217;utiliser des variables, ne permet pas de coloration syntaxique automatique, et la génération de certains éléments est particulièrement complexe à réaliser.
De plus, l&#8217;absence de tests automatiques rend difficile la détection de liens morts ainsi que l&#8217;absence de fichiers, sources ou images, dont l&#8217;importation est nécessaire pour l&#8217;affichage correct de la documentation.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_préparation_de_l_environnement">Préparation de l&#8217;environnement</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Pour installer la solution sur un projet GitHub, il faut tout d&#8217;abord préparer le projet à utiliser le service d&#8217;intégration continue Travis-CI :</p>
</div>
<div class="paragraph">
<p>La première étape consiste à activer le service Travis-CI sur GitHub.
Pour cela, rendez-vous sur la page de votre projet et cliquez sur "Settings"</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/prep1.png" alt="prep1">
</div>
</div>
<div class="paragraph">
<p>Allez ensuite dans la section "Webhooks &amp; Services"</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/prep2.png" alt="prep2">
</div>
</div>
<div class="paragraph">
<p>Ajoutez le service "Travis-CI"</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/prep3.png" alt="prep3">
</div>
</div>
<div class="paragraph">
<p>Afin de remplir les champs, cliquez sur un des deux liens suivants en fonction de visibilité de votre projet</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/prep4.png" alt="prep4">
</div>
</div>
<div class="paragraph">
<p>Une fois sur Travis-CI, connectez vous avec votre compte GitHub</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/prep5.png" alt="prep5">
</div>
</div>
<div class="paragraph">
<p>Autorisez ensuite l&#8217;application Travis CI</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/prep6.png" alt="prep6">
</div>
</div>
<div class="paragraph">
<p>Sur votre profil Travis CI, rendez-vous dans l&#8217;onglet "Profile" et notez votre Token</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/prep7.png" alt="prep7">
</div>
</div>
<div class="paragraph">
<p>Retournez ensuite sur la page de GitHub contenant les champs à remplir, et utilisez le token noté précédemment (inutile d&#8217;indiquer la champ Domain)</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/prep8.png" alt="prep8">
</div>
</div>
<div class="paragraph">
<p>Créez également une nouvelle branche "doc_release" pour votre projet</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/prep9.png" alt="prep9">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_déploiment_de_la_solution">Déploiment de la solution</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Pour installer la solution sur votre projet, extrayez l&#8217;archive fournie à la racine de votre projet (le fichier .travis.yml et les répertoires srcdoc, testsdoc, tools et travisScripts)
Rendez vous ensuite sur Travis-CI et activez l&#8217;intégration continue pour votre projet</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/dep1.png" alt="dep1">
</div>
</div>
<div class="paragraph">
<p>Ensuite, il vous faudra définir quel compte GitHub sera utilisé pour commit la documentation générée
Une fois fait, vous aurez besoin d&#8217;un environnement de développement Ruby fonctionnel sur votre machine
Exécutez alors la commande "gem install travis"</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/dep2.png" alt="dep2">
</div>
</div>
<div class="paragraph">
<p>Retournez sur GitHub et 	allez dans le menu Settings</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/dep3.png" alt="dep3">
</div>
</div>
<div class="paragraph">
<p>Menu "Applications", Cliquez sur "Generate new token"</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/dep4.png" alt="dep4">
</div>
</div>
<div class="paragraph">
<p>Cochez "repo" ou "public_repo" en fonction de la visibilité du projet, puis cliquez sur "Generate token"</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/dep5.png" alt="dep5">
</div>
</div>
<div class="paragraph">
<p>Notez bien votre token, car vous ne pourrez pas le récupérer par la suite</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/dep6.png" alt="dep6">
</div>
</div>
<div class="paragraph">
<p>Tapez la commande travis encrypt 'GIT_NAME="Nom d&#8217;utilisateur GitHub" GIT_EMAIL="Adresse mail GitHub" GH_TOKEN="Le token généré précédemment"' -r PropriétaireProjet/NomProjet</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/dep7.png" alt="dep7">
</div>
</div>
<div class="paragraph">
<p>Notez ensuite la ligne résultat</p>
</div>
<div class="paragraph">
<p>Dans le projet, ouvrez le fichier .travis.yml et remplacez la ligne "    - secure:&#8230;&#8203;" par celle notée précédemment</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/dep8.png" alt="dep8">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_utilisation">Utilisation</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_génération_de_la_documentation">Génération de la documentation</h3>
<div class="paragraph">
<p>Pour générer une documentation, elle doit être nommée "_source.adoc" et être placée dans le répertoire "srcdoc" de la racine</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/util1.png" alt="util1">
</div>
</div>
<div class="paragraph">
<p>Si vous avez besoin de générer des graphiques avec plantUML, placez également dans ce répertoire les fichiers sources au format .plantUML
Le résultat de leur génération sera placé, par défaut, dans le répertoire "images", ce que vous pouvez changer en modifiant le fichier travisScripts/plantUML.sh</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/util2.png" alt="util2">
</div>
</div>
<div class="paragraph">
<p>Le document sera généré en html et en mediawiki
Vous pouvez également modifier les commandes effectuant la génération dans le fichier ".travis.yml", entre les lignes 38 et 43</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/util3.png" alt="util3">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_récupération_de_la_documentation">Récupération de la documentation</h3>
<div class="paragraph">
<p>Une fois le push effectué, vous pourrez suivre l&#8217;avancement de la génération sur le site Travis-CI</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>Document réalisé par <a href="mailto:pierre.jeanjean@etu.univ-tlse2.fr">l&#8217;équipe en charge du projet EICGD</a> via <a href="http://asciidoctor.org/">Asciidoctor</a> (version <code>1.5.2</code>) de 'Dan Allen', lui même basé sur <a href="http://www.methods.co.nz/asciidoc">AsciiDoc</a>.
Pour l&#8217;instant ce document est libre d&#8217;utilisation et géré par la 'Licence Creative Commons'.
<span class="image"><a class="image" href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="images/icons/88x31.png" alt="Licence Creative Commons"></a></span>
<a href="http://creativecommons.org/licenses/by-sa/3.0/">licence Creative Commons Paternité - Partage à l&#39;Identique 3.0 non transposé</a>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.3.1<br>
Last updated 2015-03-10 23:42:13 UTC
</div>
</div>
</body>
</html>