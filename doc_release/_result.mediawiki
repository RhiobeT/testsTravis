= E-ICGD : Environnement d’Intégration Continue de Génération de la Documentation - Manuel utilisateur =

L'équipe responsable du projet &lt;pierre.jeanjean@etu.univ-tlse2.fr&gt;<br />
 version 2.0, 2015-03-11

[[Image:images/logo-DPT-Info.png|frame|none|alt=logo DPT Info]]

== Introduction ==

[http://www.eclipse.org/papyrus/ Papyrus] est un plugin [http://www.eclipse.org eclipse] permettant la génération et l’édition de tous types de modèles EMF, et supportant en particulier le langage de modélisation UML et ses dérivés, tels que SysML et MARTE. Actuellement l’équipe chargée de la réalisation de la documentation du plugin la rédige suivant le modèle utilisé par [https://www.mediawiki.org MediaWiki], et la teste manuellement. Or cette syntaxe n’est pas une des plus pratiques à utiliser : par exemple, elle n’offre pas la possibilité d’utiliser des variables, ne permet pas de coloration syntaxique automatique, et la génération de certains éléments est particulièrement complexe à réaliser. De plus, l’absence de tests automatiques rend difficile la détection de liens morts ainsi que l’absence de fichiers, sources ou images, dont l’importation est nécessaire pour l’affichage correct de la documentation.

== Génération de la documentation ==

Pour générer une documentation, elle doit être nommée &quot;_source.adoc&quot; et être placée dans le répertoire &quot;srcdoc&quot; de la racine

[[Image:images/util1.png|frame|none|alt=util1]]

Si vous avez besoin de générer des graphiques avec plantUML, placez également dans ce répertoire les fichiers sources au format .plantUML Le résultat de leur génération sera placé, par défaut, dans le répertoire &quot;images&quot;<br />


Le document sera généré en html et en mediawiki

== Récupération de la documentation ==

Une fois le push effectué, vous pourrez suivre l’avancement de la génération sur le site Travis-CI

[[Image:images/recup1.png|frame|none|alt=recup1]]

En cas de problème pour le passage des tests, c’est également sur ce site que vous obtiendrez un feedback

[[Image:images/recup2.png|frame|none|alt=recup2]]

Une fois la documentation générée, vous la trouverez par défaut sur la branche &quot;doc_release&quot;, dans le répertoire &quot;doc_release&quot; si aucun problème n’a été détecté ou dans le répertoire &quot;doc_failed&quot; si un ou plusieurs tests ont échoué<br />
 Les fichiers générés portent par défaut les noms &quot;_result.html&quot; et &quot;_result.mediawiki&quot;

[[Image:images/recup3.png|frame|none|alt=recup3]]

== Paramétrages ==

La plupart des répertoires, noms et commandes utilisées peuvent être modifiées directement dans le fichier travisConfig/config.sh. Ce fichier est découpé en cinq catégories :

* essentiel : contient l’adresse du repository, seule configuration devant être absolument modifiée
* documentation generation : contient les accès à tous fichiers nécessaires à la documentation (source, images, css), ainsi que des fonctions lançant les générations
* plantUML generation : contient le répertoire d’installation de plantUML, les répertoires &quot;source&quot; et &quot;output&quot; ainsi que la commande nécessaires à la conversion de fichiers .plantuml
* tests : contient l’accès aux fichiers de tests et les commandes pour les compiler et les exécuter
* push to GitHub : contient le nom de la branche où doit être fait le push, le répertoire où elle doit être clonée, les répertoires où stocker les fichiers générés en cas de succès ou d’échec, ainsi qu’une liste des fichiers et répertoires à ajouter au commit (précédés de &quot;-R&quot; si l’ajout doit être récursif)

Si vous souhaitez changer un comportement différent, vous aurez sans doûte à modifier le fichier &quot;.travis.yml&quot;, que des commentaires documentent de façon minimale

Document réalisé par [mailto:pierre.jeanjean@etu.univ-tlse2.fr l’équipe en charge du projet EICGD] via [http://asciidoctor.org/ Asciidoctor] (version <tt>1.5.2</tt>) de 'Dan Allen', lui même basé sur [http://www.methods.co.nz/asciidoc AsciiDoc]. Pour l’instant ce document est libre d’utilisation et géré par la 'Licence Creative Commons'. [http://creativecommons.org/licenses/by-sa/3.0/ [[Image:images/icons/88x31.png|Licence Creative Commons]]] [http://creativecommons.org/licenses/by-sa/3.0/ licence Creative Commons Paternité - Partage à l'Identique 3.0 non transposé].

Version 2.0<br />
 Last updated 2015-03-11 03:34:09 UTC

